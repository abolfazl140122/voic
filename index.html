<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مبدل ارز گرافیکی</title>
    
    <!-- افزودن فونت وزیرمتن از گوگل‌فونتس -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- افزودن آیکون‌ها از Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ====================
           بخش استایل‌ها (CSS)
           ==================== */
        
        /* ریست کردن استایل‌های پیش‌فرض و تنظیمات کلی */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(45deg, #6d5dcf, #d4a4eb); /* گرادیان پس‌زمینه جذاب */
            color: #333;
        }

        /* استایل کانتینر اصلی مبدل */
        .converter-container {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 400px;
            text-align: center;
            backdrop-filter: blur(5px); /* افکت شیشه‌ای */
        }

        .converter-container h1 {
            margin-bottom: 25px;
            color: #4a3f9a;
            font-size: 24px;
        }

        /* استایل بخش‌های ورودی */
        .input-group {
            margin-bottom: 20px;
            text-align: right; /* لیبل‌ها در سمت راست باشند */
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 700;
            color: #555;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-family: 'Vazirmatn', sans-serif;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #6d5dcf;
            box-shadow: 0 0 5px rgba(109, 93, 207, 0.5);
        }

        /* استایل بخش انتخاب ارزها (از و به) */
        .currency-selector {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .currency-selector .from-group, .currency-selector .to-group {
            flex: 1;
        }

        /* استایل دکمه تعویض */
        #swap-btn {
            background: none;
            border: 2px solid #6d5dcf;
            color: #6d5dcf;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            margin: 0 10px;
            margin-top: 25px; /* برای هم‌تراز شدن با فیلدها */
            transition: background-color 0.3s, color 0.3s, transform 0.3s;
        }

        #swap-btn:hover {
            background-color: #6d5dcf;
            color: white;
            transform: rotate(180deg);
        }

        /* استایل دکمه اصلی تبدیل */
        #convert-btn {
            width: 100%;
            padding: 15px;
            background-color: #4a3f9a;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #convert-btn:hover {
            background-color: #6d5dcf;
        }
        
        /* استایل بخش نتیجه */
        #result {
            margin-top: 25px;
            font-size: 18px;
            font-weight: bold;
            color: #2c255c;
            min-height: 25px; /* برای جلوگیری از پرش صفحه */
            word-wrap: break-word; /* برای شکستن متن‌های طولانی */
        }
    </style>
</head>
<body>

    <!-- ====================
         بخش ساختار (HTML)
         ==================== -->
    <div class="converter-container">
        <h1><i class="fas fa-coins"></i> مبدل ارز</h1>
        
        <div class="input-group">
            <label for="amount">مبلغ</label>
            <input type="number" id="amount" placeholder="مقدار را وارد کنید" value="1">
        </div>

        <div class="currency-selector">
            <div class="from-group input-group">
                <label for="from-currency">از</label>
                <select id="from-currency">
                    <option value="USD">دلار آمریکا (USD)</option>
                    <option value="EUR">یورو (EUR)</option>
                    <option value="IRR" selected>ریال ایران (IRR)</option>
                    <option value="TRY">لیر ترکیه (TRY)</option>
                </select>
            </div>

            <button id="swap-btn"><i class="fas fa-exchange-alt"></i></button>

            <div class="to-group input-group">
                <label for="to-currency">به</label>
                <select id="to-currency">
                    <option value="USD" selected>دلار آمریکا (USD)</option>
                    <option value="EUR">یورو (EUR)</option>
                    <option value="IRR">ریال ایران (IRR)</option>
                    <option value="TRY">لیر ترکیه (TRY)</option>
                </select>
            </div>
        </div>

        <button id="convert-btn">تبدیل کن</button>
        
        <div id="result"></div>
    </div>

    <script>
        /* ====================
           بخش منطق (JavaScript)
           ==================== */
        
        // دریافت المنت‌های HTML
        const amountInput = document.getElementById('amount');
        const fromCurrencySelect = document.getElementById('from-currency');
        const toCurrencySelect = document.getElementById('to-currency');
        const convertBtn = document.getElementById('convert-btn');
        const swapBtn = document.getElementById('swap-btn');
        const resultDiv = document.getElementById('result');

        // نرخ‌های ارز (نسبت به دلار آمریکا)
        // این یک API ساده و شبیه‌سازی شده است
        const exchangeRates = {
            "USD": 1,
            "EUR": 0.93,       // 1 دلار = 0.93 یورو
            "IRR": 580000,   // 1 دلار = 580,000 ریال (قیمت حدودی)
            "TRY": 32.5        // 1 دلار = 32.5 لیر ترکیه
        };

        // تابع اصلی برای تبدیل ارز
        function convertCurrency() {
            const amount = parseFloat(amountInput.value);
            const fromCurrency = fromCurrencySelect.value;
            const toCurrency = toCurrencySelect.value;

            // اعتبارسنجی ورودی
            if (isNaN(amount) || amount <= 0) {
                resultDiv.textContent = 'لطفاً یک مبلغ معتبر وارد کنید.';
                resultDiv.style.color = 'red';
                return;
            }
            
            // 1. ابتدا مبلغ را به دلار تبدیل می‌کنیم (چون مبنای ما دلار است)
            const amountInUSD = amount / exchangeRates[fromCurrency];
            
            // 2. سپس مبلغ دلاری را به ارز مقصد تبدیل می‌کنیم
            const convertedAmount = amountInUSD * exchangeRates[toCurrency];

            // نمایش نتیجه با فرمت خوانا
            resultDiv.style.color = '#2c255c'; // بازگرداندن رنگ به حالت اولیه
            resultDiv.textContent = 
                `${amount.toLocaleString('fa-IR')} ${fromCurrency} = ${convertedAmount.toLocaleString('fa-IR', {maximumFractionDigits: 2})} ${toCurrency}`;
        }

        // تابع برای جابجایی ارزها
        function swapCurrencies() {
            const temp = fromCurrencySelect.value;
            fromCurrencySelect.value = toCurrencySelect.value;
            toCurrencySelect.value = temp;

            // پس از جابجایی، دوباره تبدیل را انجام می‌دهیم
            convertCurrency();
        }

        // افزودن رویدادها (Event Listeners)
        convertBtn.addEventListener('click', convertCurrency);
        swapBtn.addEventListener('click', swapCurrencies);
        
        // برای تجربه کاربری بهتر، با تغییر هر یک از فیلدها، تبدیل انجام شود
        amountInput.addEventListener('input', convertCurrency);
        fromCurrencySelect.addEventListener('change', convertCurrency);
        toCurrencySelect.addEventListener('change', convertCurrency);

        // اجرای اولیه تابع تبدیل هنگام بارگذاری صفحه
        window.addEventListener('load', convertCurrency);

    </script>

</body>
</html>
